"use strict";(self.webpackChunkSshModule_Page=self.webpackChunkSshModule_Page||[]).push([[35],{5035:($,d,s)=>{s.r(d),s.d(d,{HomeModule:()=>l});var p=s(6895),f=s(8477),a=s(433),i=(()=>{return(t=i||(i={}))[t.SERVER_RESPONSE=0]="SERVER_RESPONSE",t[t.USER_COMMAND=1]="USER_COMMAND",i;var t})(),n=s(1571),g=s(4004),C=s(529);class c{constructor(o){this.http=o,this.BASE_URL="http://localhost:8080"}get host$(){return this.http.get(`${this.BASE_URL}/host`).pipe((0,g.U)(o=>o.host))}get user$(){return this.http.get(`${this.BASE_URL}/user`).pipe((0,g.U)(o=>o.user))}get connect$(){return this.http.get(`${this.BASE_URL}/connect`)}get disconnect$(){return this.http.get(`${this.BASE_URL}/disconnect`)}sendCommand$(o){return this.http.get(`${this.BASE_URL}/command`).pipe((0,g.U)(e=>e.response))}}c.\u0275fac=function(o){return new(o||c)(n.LFG(C.eN))},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});var _=s(4144),h=s(7676);function v(t,o){if(1&t&&(n.TgZ(0,"div",9)(1,"span",10),n._uU(2),n.qZA(),n.TgZ(3,"span",11),n._uU(4),n.qZA()()),2&t){const e=o.$implicit,m=n.oxw(3);n.xp6(2),n.Oqu(m.getUserCommandLocation(e)),n.xp6(2),n.Oqu(m.getUserCommandLine(e))}}function O(t,o){if(1&t&&(n.ynx(0),n.YNc(1,v,5,2,"div",8),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.lines)}}function S(t,o){if(1&t&&(n.TgZ(0,"span",13),n._uU(1),n.qZA()),2&t){const e=o.$implicit;n.xp6(1),n.Oqu(e)}}function x(t,o){if(1&t&&(n.ynx(0),n.YNc(1,S,2,1,"span",12),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.lines)}}function M(t,o){if(1&t&&(n.ynx(0),n.YNc(1,O,2,1,"ng-container",7),n.YNc(2,x,2,1,"ng-container",7),n.BQk()),2&t){const e=o.$implicit,m=n.oxw();n.xp6(1),n.Q6J("ngIf",m.isUserCommand(e)),n.xp6(1),n.Q6J("ngIf",!m.isUserCommand(e))}}class u{constructor(o){this.configService=o,this.inputController=new a.NI,this.consoleLines=[]}ngOnInit(){this.configService.connect$.subscribe(o=>{console.log(o),this._host=this.configService.host$.subscribe(e=>{this.host=e,this.consoleLines.push({type:i.SERVER_RESPONSE,lines:["Vous \xeates connectez sur le serveur "+this.host]})}),this._user=this.configService.user$.subscribe(e=>this.user=e)})}ngOnDestroy(){this._host?.unsubscribe(),this._user?.unsubscribe(),this.configService.disconnect$.subscribe()}get folder(){return"home/etc"}get currentLocation(){return`${this.user}@${this.host} ~/${this.folder} `}sendCommand(){console.log(this.inputController.value),this.consoleLines.push({lines:[`${this.currentLocation}${this.inputController.value}`],type:i.USER_COMMAND}),console.log(this.consoleLines),this.inputController.reset(),this.configService.sendCommand$(this.inputController.value).subscribe(o=>{console.log(o),this.consoleLines.push({lines:o,type:i.SERVER_RESPONSE})})}isUserCommand(o){return o.type===i.USER_COMMAND}getUserCommandLocation(o){return o.substring(0,this.currentLocation.length)}getUserCommandLine(o){return o.substring(this.currentLocation.length,o.length)}}u.\u0275fac=function(o){return new(o||u)(n.Y36(c))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-home"]],decls:12,vars:4,consts:[[1,"title"],[1,"console-box"],[4,"ngFor","ngForOf"],[1,"console-input"],[1,"console-input-field"],["matPrefix",""],["matInput","","type","text",3,"formControl","keydown.enter"],[4,"ngIf"],["class","user-command",4,"ngFor","ngForOf"],[1,"user-command"],[1,"command-location"],[1,"command-line"],["class","server-response-line",4,"ngFor","ngForOf"],[1,"server-response-line"]],template:function(o,e){1&o&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2),n.qZA()(),n.TgZ(3,"div",1),n.YNc(4,M,3,2,"ng-container",2),n.qZA(),n.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),n._uU(8,"entrer votre commande"),n.qZA(),n.TgZ(9,"span",5),n._uU(10),n.qZA(),n.TgZ(11,"input",6),n.NdJ("keydown.enter",function(){return e.sendCommand()}),n.qZA()()()),2&o&&(n.xp6(2),n.hij("Serveur : ",e.host,""),n.xp6(2),n.Q6J("ngForOf",e.consoleLines),n.xp6(6),n.Oqu(e.currentLocation),n.xp6(1),n.Q6J("formControl",e.inputController))},dependencies:[p.sg,p.O5,_.Nt,h.KE,h.hX,h.qo,a.Fj,a.JJ,a.oH],styles:[".title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:row;flex-wrap:nowrap}.console-box[_ngcontent-%COMP%]{min-width:80%;min-height:60%;height:60%;background-color:#2f4f4f;color:#fff;overflow-y:scroll;display:flex;flex-direction:column;justify-content:flex-end}.console-box[_ngcontent-%COMP%]   .user-command[_ngcontent-%COMP%]{display:inline}.console-box[_ngcontent-%COMP%]   .user-command[_ngcontent-%COMP%]   .command-location[_ngcontent-%COMP%]{color:#adff2f}.console-box[_ngcontent-%COMP%]   .user-command[_ngcontent-%COMP%]   .command-line[_ngcontent-%COMP%]{color:#fff}.console-box[_ngcontent-%COMP%]   .server-response-line[_ngcontent-%COMP%]{color:#d3d3d3}.console-input[_ngcontent-%COMP%]{min-width:98%;min-height:10%;display:inline-flex;flex-wrap:nowrap;flex-direction:row;margin:1em}.console-input[_ngcontent-%COMP%]   .console-input-field[_ngcontent-%COMP%]{width:100%}"]});const E=[{path:"",component:u}];class r{}r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[f.Bz.forChild(E),f.Bz]});var y=s(3016),U=s(294);class l{}l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[p.ez,r,y.m,U.I]})}}]);